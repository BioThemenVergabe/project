function getHidden(e){var t=null;return $("input[type=hidden]").each(function(){$(this).attr("name")==e&&(t=$(this))}),t}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){for(var o=a[s];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}$(function(){if(""!=sessionStorage.getItem("modal")){var e=sessionStorage.getItem("modal");$("#"+e).modal(),sessionStorage.removeItem("modal"),$('form:not([name="'+e+'"])').find(".has-error").removeClass("has-error")}1!=getCookie("cookieAccepted")&&$("#cookieMessage.modal").modal({keyboard:!1,backdrop:"static"}),$("a[data-action]").on("click",function(e){e.preventDefault(),$("#"+$(this).data("action")).modal()}),$('[data-toggle="popover"]').popover(),$(".dropdown-toggle").dropdown(),$("#logo").on("click",function(){window.location.href=$(location).attr("protocol")+"//"+$(location).attr("hostname")+":"+$(location).attr("port")+"/redirect"}),$("#accept[data-dismiss]").on("click",function(){var e=new Date;e.setTime(e.getTime()+31536e6);var t="expires="+e.toUTCString();document.cookie="cookieAccepted=1;"+t+";path=/"}),$("input:required").on("input change",function(){""!=$(this).val()?($(this).parent().removeClass("has-error"),$(this).parent().addClass("has-success")):($(this).parent().removeClass("has-success"),$(this).parent().addClass("has-error"))}),$("form[name] input[type=submit]").on("click",function(e){e.preventDefault(),sessionStorage.setItem("modal",$(this).parents("form").attr("name")),$(this).parents("form").submit()}),$('form[name=edit] [type="password"][name*="password"], form[name=register] [type="password"][name*="password"]').on("keyup",function(){var e;switch($(this).attr("name")){case"password":e=$(this).parents("form").find("input[name=password_confirmation]");break;case"password_confirmation":e=$(this).parents("form").find("input[name=password]")}e.val()!=$(this).val()?($(".has-success").removeClass("has-success"),e.parent().addClass("has-error"),$(this).parent().addClass("has-error")):($(".has-error").removeClass("has-error"),e.parent().addClass("has-success"),$(this).parent().addClass("has-success"))}),$("form[name=edit] [type=submit]").on("click",function(e){e.preventDefault()}),$("#mailContact").find("input[type=submit]").on("click",function(e){e.preventDefault();var t=$(this).closest("form");t.find(".help-block").remove();var a=t.clone(!0),s=t.find("input"),o={message:t.find("textarea").val()};$("form").not("[data-name="+t.attr("data-name")+"]").find(".has-error").html("Hallo"),s.each(function(){o[$(this).attr("name")]=$(this).val()}),$.ajax({type:t.attr("method"),url:t.attr("action"),data:o,beforeSend:function(e){t.find(".modal-body").html('<div class="row"><div class="col-xs-4 col-xs-offset-4"><div class="progress"><div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%"></div></div></div></div>')},success:function(e){if($(".has-error").removeClass("has-error"),$(".help-block").remove(),1==e.success){var s='<div class="bs-callout bs-info"><h4>'+getHidden("mailSuccess").val()+"</h4></div>";t.find(".modal-body").html(s),t.find("input[type=submit]").addClass("hidden"),t.find("input[type=button]").removeClass("hidden"),$btn=t.find("input[type=button]"),$btn.on("click",function(){$(this).closest(".modal").modal("toggle"),setTimeout(function(){t.replaceWith(a),t.find("input[type=submit]").removeClass("hidden"),t.find("input[type=button]").addClass("hidden")},1e3)})}else 0==e.success&&(t.html(a),$.each(e.errors,function(){var e=t.find("[name="+this.split(" ")[0]+"]");e.parents(".form-group").addClass("has-error"),e.parent().append('<span class="help-block"><strong>'+this+"</strong></span>")}))}})})});